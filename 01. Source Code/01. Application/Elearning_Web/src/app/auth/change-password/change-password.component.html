<div class="modal-header">
    <h4 class="modal-title text-uppercase">Thay đổi mật khẩu</h4>
    <a href="javascript:;" style="outline: none; color: white" (click)="closeModal(true)">
        <i class="fa fa-close"></i>
    </a>
    <!-- <button style="outline: none; color: white" type="button" class="close" aria-label="Close"
        (click)="closeModal(true)">
        <i class="fa fa-close"></i>
    </button> -->
</div>
<form [formGroup]="loginForm">

    <div class="modal-body " style="padding: 15px">
        <div class="row">
            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
                <div class="form-group ">
                    <label class="form-label">Mật khẩu cũ
                        <span class='text-danger text-strong'>&nbsp;*</span>
                    </label>
                    <div class="controls input-group">
                        <input [type]="fieldTextOldType ? 'text' : 'password'" class="form-control" required formControlName="passwordold"
                            maxlength="32" [(ngModel)]="model.PasswordOld" required> &nbsp;
                        <div class="input-group-append">
                            <i class="fa" style="padding-top: 10px;" [ngClass]="{
                            'fa-eye-slash': !fieldTextOldType,
                            'fa-eye': fieldTextOldType
                          }" (click)="toggleFieldTextOldType()"></i>
                        </div>
                    </div>
                    <div class="error-messages">
                        <ng-container *ngFor="let error of error_messages.passwordold">
                            <div class="error-message"
                                *ngIf="loginForm.get('passwordold').hasError(error.type) && (loginForm.get('passwordold').dirty || loginForm.get('passwordold').touched)">
                                {{ error.message }}
                            </div>
                        </ng-container>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
                <div class="form-group ">
                    <label class="form-label">Mật khẩu mới
                        <span class='text-danger text-strong'>&nbsp;*</span>
                    </label>
                    <div class="controls input-group">
                        <input [type]="fieldTextType ? 'text' : 'password'" class="form-control"
                            formControlName="password" [(ngModel)]="model.PasswordHash" maxlength="32" required>
                        <div class="input-group-append">
                            <i class="fa" style="padding-top: 12px" [ngClass]="{
                                    'fa-eye-slash': !fieldTextType,
                                    'fa-eye': fieldTextType
                                  }" (click)="toggleFieldTextType()"></i>
                        </div>
                    </div>
                    <div class="error-messages">
                        <ng-container *ngFor="let error of error_messages.passwordnew">
                            <div class="error-message"
                                *ngIf="loginForm.get('password').hasError(error.type) && (loginForm.get('password').dirty || loginForm.get('password').touched)">
                                {{ error.message }}
                            </div>
                        </ng-container>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
                <div class="form-group form-group-custom">
                    <label class="form-label">Nhập lại mật khẩu mới
                        <span class='text-danger text-strong'>&nbsp;*</span>
                    </label>
                    <div class="controls input-group">
                        <div class="input-group">
                            <input [type]="fieldReTextType ? 'text' : 'password'" class="form-control"
                                formControlName="confirmpassword" [(ngModel)]="model.ConfirmPassword" maxlength="32"
                                required>
                            <div class="input-group-append">
                                <i class="fa" style="padding-top: 12px" [ngClass]="{
                                        'fa-eye-slash': !fieldReTextType,
                                        'fa-eye': fieldReTextType
                                      }" (click)="toggleReFieldTextType()"></i>
                            </div>
                        </div>
                    </div>
                    <div class="error-messages">
                        <ng-container *ngFor="let error of error_messages.confirmpassword">
                            <div class="error-message"
                                *ngIf="loginForm.get('confirmpassword').hasError(error.type) && (loginForm.get('confirmpassword').dirty || loginForm.get('confirmpassword').touched)">
                                {{ error.message }}
                            </div>
                        </ng-container>
                    </div>

                </div>
            </div>

        </div>
        <p style="text-align: center;">
            {{ message}}
        </p>
    </div>
</form>

<div class="modal-footer">
    <button type="button" class="btn btn-success"
        [disabled]="!loginForm.valid || model.ConfirmPassword != model.PasswordHash" (click)="ConfirmChangePassword()">
        <i class="fa fa-save"></i>&nbsp;
        <span>Lưu</span>
    </button>
    <button type="button" class="btn btn-danger" (click)="closeModal(false)">
        <i class="fa fa-power-off"></i> &nbsp;
        <span>
            Đóng
        </span>
    </button>
</div>